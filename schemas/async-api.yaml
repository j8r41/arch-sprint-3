asyncapi: "2.6.0"
info:
  title: Управление отоплением.
  version: "0.0.1"

channels:
  devices_commands:
    publish:
      message:
        name: deviceCommand
        title: Отправляет команду устройству
        payload:
          type: object
          properties:
            command:
              type: string
            device_id:
              type: string
          examples:
            - {
                "device_id": "0f1099e6-e2de-44b8-ad9d-a66ce286b48e",
                "command": "set_temperature: 25",
              }

  telemetry:
    subscribe:
      message:
        name: telemetry
        title: Получает данные телеметрии
        payload:
          type: object
          properties:
            data:
              type: object
            device_id:
              type: string
          examples:
            - {
                "device_id": "0f1099e6-e2de-44b8-ad9d-a66ce286b48e",
                "data": { "temperature": "25" },
              }
